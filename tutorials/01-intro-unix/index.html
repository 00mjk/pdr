<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>PDR: Tutorial 1: Introduction to UNIX</title>
<link href="../../markdown.css" media="all" rel="stylesheet" type="text/css"></head>
<body>
<h1>PDR: Tutorial 1: Introduction to UNIX</h1>

<p><a href="../index.html">Go up to the Tutorials table of contents page</a></p>

<h2>Part I: Introduction and setting up your UNIX environment</h2>

<p>This tutorial is meant to get you up and running with editing,
compiling, and executing a program in a Unix-like environment.  There
are a number of options that you can use to do this, depending on if
you have your own PC, and how much time you want to spend installing
software.  We recommend the first of the options listed if you are
using Windows; Mac OS X users should use the second option listed.</p>

<p>The options are:</p>

<ul>
<li>Use VirtualBox, a free virtual machine software package.  This will
allow you to run Linux on your home machine without needing to
re-install anything.  Directions for how to use VirtualBox can be
found at <a href="virtual-box.html">Tutorial 1: Introduction to UNIX: VirtualBox
use</a></li>
<li>Mac OS X users are already running UNIX, as Mac OS X runs on top of
FreeBSD (a version of UNIX).  So you can just use the computer you
have.  HOWEVER, note that you still can&rsquo;t use an IDE (Eclipse,
Xcode, etc.).  And you will probably need to install the various
programs (from the Xcode CD).  You can download Emacs (an editor)
from [here])http://emacsformacosx.com/).  From a terminal window,
try typing in &lsquo;clang++&rsquo; - if you get &lsquo;Command not found&rsquo;, then you
will need to install it from the Xcode CD.  Also note that you
cannot load up Emacs easily from a command line, but you can load it
up as you would any other application.

<ul>
<li>Update: It seems that you can download the individual tools from
the <a href="https://developer.apple.com/downloads/index.action">developer
site</a> without
needing the Xcode CD.</li>
<li>You will need to install Xcode and the command line tools (with
the latest version of Xcode, you have to download and install the
command-line tools separately)</li>
<li>Note that some software that you will need for this course (in
particular, doxygen and x86 code creation) does NOT work well on a
Mac, and you will likely need the VirtualBox image for that</li>
</ul>
</li>
<li>Install a Unix variant on your home machine.  There are a number of
options: Linux, FreeBSD, Solaris, etc.  We use Linux (specifically,
the Ubuntu distribution), as it has a large user community, both at
the University and outside.  Thus, if you run into a problem, the
course staff might be able to help you.  This will require
repartitioning your hard drive, and thus there is a chance of data
loss.  <strong>THUS YOU NEED TO BACK UP YOUR DATA FIRST!!!</strong> You will have
to choose a distribution of Linux to install &ndash; as mentioned above,
we use Ubuntu.  You can find install guides on the web.  Be sure to
install the development environments with Linux &ndash; pretty much all
of the required software will be included in that.  Also consider
<a href="http://wubi-installer.org/">Wubi</a>, an easy-to use installer for
Windows (while we have not used it ourselves, we have heard good
reports about it from previous students).</li>
</ul>


<p>Should you not want to install anything on your machine, or you want
to work elsewhere, there are other options available to you as well:</p>

<ul>
<li>Complete this lab in any ITC lab &ndash; oh, wait.  They got rid of them
because undergraduate education is too expensive.  Idiotic
decision&hellip;</li>
<li>Complete this lab in Olsson 001 using Linux.  You will need to speak
to me to get a key (and it will require a $5 deposit).  Note that
while you can generally use the lab at any time, you are not allowed
to be in the room when another lab is going on.  The lab machines
already have both Linux and Windows installed, although you will
have to reboot the computer into Linux (see below).</li>
</ul>


<hr />

<h2>Part II: A (brief!) Unix tutorial</h2>

<p>Unix is a very powerful operating system that has been around, in one
form or another, for almost 40 years.  The fact that it still exists
attests to how powerful it can be for completing tasks on a computer.
The reason it is not more widely adopted is because it is not very
easy to use or intuitive &ndash; it was written by computer programmers for
computer programmers.  While the people in this course are certainly
capable of learning it, many people just want a computer to work, and
to run an Office suite and a set of Internet programs such as a
browser.  For those users, an easier to use operating system (such as
Windows or Mac OS X) is often better.  Unix is coming more into the
mainstream lately with the increased popularity of Linux, as well as
the fact that Mac OS X is built upon a Unix operating system (FreeBSD,
in particular).</p>

<p>The word &lsquo;Unix&rsquo; can mean any Unix-like operating system.  There are
many available &ndash; Linux, FreeBSD, Solaris, Mac OSX, etc.  We will be
using the word Unix in this class to mean whichever Unix-like
environment we are using for this course.</p>

<p>A quick note: Unix IS CASE SENSITIVE.  Thus, foo, Foo, FOO, and FoO
are all different, and allowable, file names.  This causes problems
with Windows, which sees all those names as the same thing.  So be
careful about your cases!</p>

<h3>Connecting to Unix</h3>

<p>First, you need to load up a command shell.  For those who have used
DOS, or the Windows command prompt, it is a somewhat similar interface.</p>

<p><strong>A Unix system installed on your home machine, including
VirtualBox:</strong> In Linux (or FreeBSD, Solaris, etc.): Log in (presumably
to the X-Windows interface), and load up a command shell.  How you
load that up is dependent on your version of Linux.  With VirtualBox,
it&rsquo;s one of the icons on the top toolbar.</p>

<p><strong>A Linux machine in Olsson 001:</strong> You will need to reboot the
computer into Linux &ndash; see the directions in the first lab for how to
do this.</p>

<h3>The Unix Tutorial</h3>

<p>Here is a quick primer of basic Unix commands.  Try each of these out.
The idea is for you to be able to manipulate files and directories &ndash;
the full Unix tutorial starts next week.</p>

<ul>
<li>&lsquo;ls&rsquo; will show the contents of the current directory (similar to
&lsquo;dir&rsquo; in DOS).  &lsquo;ls&rsquo; stands for &lsquo;list&rsquo;, but without the &lsquo;i&rsquo; and the
&rsquo;t'.</li>
<li>&lsquo;pwd&rsquo; (for print working directory) shows the current directory.  If
you enter it now, it will print something like &lsquo;/home/Yourname&rsquo;.
Like Windows Explorer, you are always in a given directory at any
given time &ndash; if you modify files or create directories, for
example, it will occur in the current working directory.  The
current directory (&lsquo;/home/Yourname&rsquo;) is called your home directory.</li>
<li>&lsquo;cd foo&rsquo; will change to the foo directory &ndash; in other words, it
changes the current working directory.  As there are no directories in
&lsquo;/home/Yourname&rsquo;, you can enter &lsquo;cd ..&rsquo; (notice the one space and then
two periods) &ndash; this will move you up one directory (to &lsquo;/home&rsquo;).</li>
<li>If you didn&rsquo;t already, change to the directory above your home
directory (by entering &lsquo;cd ..).  If you do an 'ls&rsquo;, you will
probably see only one entry: &lsquo;Yourname&rsquo;.  Move up one more directory
(&lsquo;cd ..&rsquo;), and do an &lsquo;ls&rsquo; &ndash; there should be a dozen or so directory
entries.  At this point, it&rsquo;s hard to see what is a directory and
what is not &ndash; you can do an &lsquo;ls &ndash;F&rsquo;, which will put a single
character after most files to let you know what they are &ndash; for
example, &lsquo;home/&rsquo; shows up, and the slash tells you that &lsquo;home&rsquo; is a
directory.</li>
<li>To get back to your home directory, just enter &lsquo;cd&rsquo;.  The current
working directory is changed to your home directory.</li>
<li>You can make directories by &lsquo;mkdir&rsquo; (note that &lsquo;md&rsquo; will not work),
and remove them by &lsquo;rmdir&rsquo; (not &lsquo;rd&rsquo;).  This is the same as creating
a folder in Windows Explorer.  A directory that is not empty cannot
be removed.  For now, we recommend that any directory names (or file
names) only have letters, digits, or the underscore in their names
(there are ways around that, but they are complicated).</li>
<li>Once we start saving files, we will want them to be somewhere easily
accessible from Windows.  With VirtualBox, the [Tutorial 1:
Introduction to UNIX: VirtualBox use] page discusses how to transfer
files back and forth to the virtual machine.</li>
</ul>


<p>That&rsquo;s it for the Unix tutorial for now.  There are many further
tutorials online, feel free to read those.  You can do all your
editing in your desktop folder &ndash; this way, if you want to rename or
move your files, you can use Windows Explorer to do so (there are Unix
ways to do it, and we&rsquo;ll get to those later).</p>

<hr />

<h2>Part III: Editing, compiling, and running a C++ program</h2>

<p>First, you will need to load up a command shell (as in the previous
section), from which we will load up the editor.  We will be using a
version of Emacs for this course.  Note that although we will be using
Emacs to edit files, we will be referring to it as &lsquo;Emacs&rsquo;, mostly due
to old habits that die hard.</p>

<p>For this course, you will need to be familiar with Emacs.  You are
welcome to use any editor that is not an IDE (Integrated Development
Environment), but I will expect that you are very familiar with Emacs
for the exams.  This includes the keyboard shortcuts!</p>

<p>To load up the editor:</p>

<ul>
<li>In Linux (via VirtualBox, or in FreeBSD, Solaris, etc.): Log in
(presumably to the X-Windows interface), and load up &lsquo;emacs&rsquo;.  How
you load that up is dependent on your version of Linux &ndash; the easy
way is to load up a command shell (which you will need anyway), and
enter &lsquo;emacs &amp;&rsquo; (note the &lsquo;x&rsquo; at the beginning, and the ampersand
(&lsquo;&amp;&rsquo;) at the end).</li>
<li>Through SecureCRT to the departmental machines: log in as above.  A
few notes: when you load up the editor, enter &lsquo;emacs helloworld.cpp&rsquo;
&ndash; note that you are not loading the GUI (as this is a text-based
terminal you are using), and you are not using an ampersand (&lsquo;&amp;&rsquo;).
When you have to switch back to using the shell, you will need to
exit Emacs (C-x C-c &ndash; see below), run the command, and then
re-start Emacs.</li>
</ul>


<p>You should now have emacs loaded and running &ndash; if not, then something
is wrong.  If you are using the VirtualBox image, it will look like
the following.  Other systems will look similar.</p>

<p><img src="screenshot-1.png" alt="Emacs screenshot" /></p>

<p>All of the mouse commands in Emacs have keyboard shortcuts.
Eventually, you will want to learn the shortcuts, as they are much
faster to enter once they are known.  For the commands below, the
keyboard shortcut commands are listed &ndash; partly so you can get used to
seeing and using them, and partly because for those using SecureCRT,
they cannot use the mouse.</p>

<p>The first commands in Emacs that we will learn will use the control
key.  For example, the exit command (to leave emacs) is listed as C-x
C-c.  This means hit Control-x then Control-c.  We will be going over
Emacs command in more detail later.  For now, remember that if you get
stuck, hit C-g (Control-g) a few times, and that should un-stick it.</p>

<p>We recommend you create a new directory in your desktop for the rest
of this tutorial (&lsquo;mkdir tutorial&rsquo;).  Either way, cd into that
directory.</p>

<p>Next, let&rsquo;s open up a new file.  Do do that, go to File->Open (C-x
C-f).  Enter the name of the file (&lsquo;helloworld.cpp&rsquo;).  Note that if
the file does not exist, then it is created (thus, it is like
File->New in other programs).  If the file does exist, it is opened
(like File->Open in other programs).  Also note that in the lower part
of the Emacs screen, it should now say &ldquo;C++ Abbrev&rdquo; &ndash; this is the
mode that Emacs is in.  The &ldquo;C++ Abbrev&rdquo; means that it is in C++ mode,
which is what we want.</p>

<p>Enter the following program &ndash; feel free to cut-and-paste (there is a
&lsquo;Edit->Paste&rsquo; menu entry).  This is the same program found in the
first set of slides.  What all this C++ code means, we&rsquo;ll get to later
&ndash; this tutorial is just for entering, compiling, and running the
programs.</p>

<pre><code>// C++
#include &lt;iostream&gt;
using namespace std;
int main() {
    cout &lt;&lt; "Hello World!" &lt;&lt; endl;
    return 0;
}
</code></pre>

<p>Save the file (File->Save or C-x C-s).  If you switch back to the
shell, and do an &lsquo;ls&rsquo;, you should see that file listed.</p>

<p>Next, we need to compile that file.  To do so, switch to the shell,
and enter the command: &lsquo;clang++ helloworld.cpp&rsquo;.  It will compile, and
if successful, the command prompt will be displayed after a brief
pause.  If there were errors, then the it will list them to the
screen.</p>

<p>After a successful compilation, do an &lsquo;ls&rsquo; &ndash; you will see a second
file, called &lsquo;a.exe&rsquo; (&lsquo;a.out&rsquo; if you are using Linux or one of the
lava machines).  This is the compiled version of that program.  To run
it, enter &lsquo;./a.exe&rsquo; (or &lsquo;./a.out&rsquo;).  Note the period and slash before
the &lsquo;a.exe&rsquo; &ndash; why this is there (and how to get rid of it) we will
see later in the semester.</p>

<p>Another useful command is the undo command: C-_.  This means hold down
the control and shift keys, and hit the dash/underscore key.</p>

<p>There are two more Emacs commands that will be very useful as we
continue in the course.  The Emacs editor is very powerful, but you
would never know it by looking at the code that you just entered.  It
really just looks like Notepad right now:</p>

<p><img src="screenshot-2.png" alt="Emacs screenshot" /></p>

<p>Let&rsquo;s color the text and turn on linqe numbers &ndash; both very useful
things to have when you are editing code.  We&rsquo;ve seen control commands
(such as C-x C-s for saving a file).  Next up are commands called
meta-commands, because they use the meta (or escape) key.  A
meta-command looks like &rsquo;M-x line-number-mode'.  Thus, to enter the
command, hit the escape key, RELEASE THE ESCAPE KEY, and hit &lsquo;x&rsquo;.
Note that with the control commands, you hold down the control key
while pressing the other key &ndash; with meta commands, you press and then
release the escape key, and then hit &lsquo;x&rsquo;.  At that point, the bottom
of your Emacs screen will look like the following:</p>

<p><img src="screenshot-3.png" alt="Emacs screenshot" /></p>

<p>Note the &rsquo;M-x' at the bottom &ndash; Emacs is ready to receive an
&lsquo;extended&rsquo; meta command.  Type in &lsquo;line-number-mode&rsquo;, hit Enter, and
the line number that the cursor is on will appear in the status bar at
the bottom of the Emacs screen.  Note that it is going to be annoying
to have to type all of that in each time.  This, if you hit the tab
key after entering &lsquo;line&rsquo;, it will complete the rest of the command
for you.  While this may seem like a lot of typing, once you get used
to it, these commands can be entered significantly faster than the
mouse clicks needed to do this in other editors.  There are ways you
can have line numbers always displayed when you enter Emacs &ndash; we&rsquo;ll
get to these later in the semester.  Note that you can enter &rsquo;M-x
line-number-mode' as many times as you want &ndash; it will just toggle the
display of the line numbers on and off.</p>

<p>The other command that is useful is to color the program text.  Use
the command &rsquo;M-x font-lock-mode'.  Note that if you hit the tab key
after entering &lsquo;font&rsquo;, it doesn&rsquo;t fully complete it (you still have to
enter &lsquo;mode&rsquo;).  Your C++ program should now be colored, and your Emacs
window should look like the following.</p>

<p><img src="screenshot-4.png" alt="Emacs screenshot" /></p>

<p>In addition to the font coloring of the C++ program code, note that
the word &lsquo;Font&rsquo; is between &lsquo;C++&rsquo; and &lsquo;Abbrev&rsquo; on the status bar (as we
are now using font colors), and the line number is shown to the right
of that (the cursor is on line 1 in the image).</p>

<p>In summary, you should be familiar with the following Emacs commands:</p>

<ul>
<li>C-x C-f: Open a file, or create a new file if the file name is not found</li>
<li>C-x C-c: Exit Emacs (prompts to save the file if it is not saved)</li>
<li>C-g: Quit (stops the current command, doesn&rsquo;t exit Emacs)</li>
<li>C-_: Undo</li>
<li>M-x line-number-mode: Turn on line numbers</li>
<li>M-x font-lock-mode: Turn on font coloring</li>
</ul>


<p>A good Emacs reference sheet can be found
<a href="http://refcards.com/docs/wingb/xemacs/xemacs-refcard-a4.pdf">here</a>.
This file is also in the Collab Resources section, under the misc
folder.  Note that this page is formatted for A4 paper &ndash; it should
print out fine on our letter-sized paper, but you may have to scale
the image in Acrobat Reader when you print it out.</p>

<p>When you are all finished, you should exit Emacs (C-x C-c), and logout
(by typing &lsquo;logout&rsquo;).</p>

<p>That&rsquo;s it!  You can now edit, compile, and run C++ programs.  You are
ready to proceed to the pre-lab for lab 1.</p>
</body>
</html>
